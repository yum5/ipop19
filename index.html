<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.0/moment.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js"></script>
  <script src="js/chartjs-plugin-streaming.min.js"></script>

  <title>Quotes!</title>
  <style>
    body {
      font-family: Verdana, sans-serif;
      padding: 10px;
      background: skyblue;
    }
    p {
      color: #fff;
      font-size: 36px;
      margin: 0;
      padding: 0;
    }
  </style>

</head>
<body>
  <p id="quote">Just do it!</p>
  <canvas id="canvas" style="width: 800px; height: 600px"></canvas>
  <script>


      function onRefresh() {
  			config.data.datasets.forEach(function(dataset) {
  				dataset.data.push({
  					x: moment(),
  					y: Math.random() * 100
  				});
  			});
  		}
    var orange = 'rgb(255, 159, 64)';
    var config = {
      type: 'bar',
      data: {
        labels: [],
        datasets: [{
          label: 'Dataset',
          backgroundColor: Chart.helpers.color(orange).alpha(0.5).rgbString(),
          borderColor: orange,
          borderWidth: 1,
          data: []
        }]
      },
      options: {
        responsive: true,
        title: {
          display: true,
          text: 'Bar chart (hotizontal scroll) sample'
        },
        scales: {
          xAxes: [{
            type: 'realtime',
            display: true
          }],
          yAxes: [{
            type: 'linear',
            display: true,
            scaleLabel: {
              display: true,
              labelString: 'value'
            }
          }]
        },
        tooltips: {
          mode: 'nearest',
          intersect: false
        },
        hover: {
          mode: 'nearest',
          intersect: false
        },
        plugins: {
          streaming: {
            duration: 20000,
            refresh: 1000,
            delay: 1000,
            onRefresh: onRefresh
          }
        }
      }
    };

    var ctx = document.getElementById('canvas').getContext('2d');
		var myBar = new Chart(ctx, config);

  </script>
</body>
</html>
